<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>nodejs学习小结 | 咸鱼老弟</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">nodejs学习小结</h1><a id="logo" href="/.">咸鱼老弟</a><p class="description">【博客园-咸鱼老弟】</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/resource/"><i class="fa fa-university"> 资源</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">nodejs学习小结</h1><div class="post-meta">Sep 24, 2017<span> | </span><span class="category"><a href="/categories/node/">node</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="clear"><div id="toc" class="toc-article"><div class="toc-title">文章目录</div><ol class="toc"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-mongodb启动"><span class="toc-number">1.</span> <span class="toc-text">1. mongodb启动</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-修改node的渲染模板"><span class="toc-number">2.</span> <span class="toc-text">2. 修改node的渲染模板</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-获取前端传来的参数"><span class="toc-number">3.</span> <span class="toc-text">3. 获取前端传来的参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-分页的做法"><span class="toc-number">4.</span> <span class="toc-text">4. 分页的做法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-新建一个工程"><span class="toc-number">5.</span> <span class="toc-text">5. 新建一个工程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6-小tips：快速删除node-modules"><span class="toc-number">6.</span> <span class="toc-text">6. 小tips：快速删除node_modules</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7-ejs模板的引用"><span class="toc-number">7.</span> <span class="toc-text">7. ejs模板的引用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8-页面布局"><span class="toc-number">8.</span> <span class="toc-text">8. 页面布局</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9-如何字符串加密"><span class="toc-number">9.</span> <span class="toc-text">9. 如何字符串加密?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10-session的使用"><span class="toc-number">10.</span> <span class="toc-text">10. session的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11-Express-模板传值对象app-locals、res-locals"><span class="toc-number">11.</span> <span class="toc-text">11. Express 模板传值对象app.locals、res.locals</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12-node文件读取模块fs"><span class="toc-number">12.</span> <span class="toc-text">12. node文件读取模块fs</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13-mongodb的使用"><span class="toc-number">13.</span> <span class="toc-text">13. mongodb的使用</span></a></li></ol></div></div><div class="post-content"><p>&ensp;&ensp;&ensp;&ensp;最近这段时间一直都有在玩nodejs，边学习边总结了一些零零散散的笔记，今天要总结在一起，方便自己查阅和总结。</p>
<a id="more"></a>
<h5 id="1-mongodb启动"><a href="#1-mongodb启动" class="headerlink" title="1. mongodb启动"></a>1. mongodb启动</h5><p>确保你的电脑上安装了mongodb，进入mongodb的bin目录，执行<code>mongod --dbpath 数据库地址</code>。<br>例如<code>mongod --dbpath F:\dataBase</code>;</p>
<h5 id="2-修改node的渲染模板"><a href="#2-修改node的渲染模板" class="headerlink" title="2. 修改node的渲染模板"></a>2. 修改node的渲染模板</h5><p>修改app.js里面的内容，可以修改为你的模板为ejs、html等<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ejs = <span class="built_in">require</span>(<span class="string">'ejs'</span>);</span><br><span class="line">...</span><br><span class="line">app.set(<span class="string">'views'</span>, path.join(__dirname, <span class="string">'views'</span>));</span><br><span class="line">app.engine(<span class="string">'.html'</span>, ejs.__express);</span><br><span class="line">app.set(<span class="string">'view engine'</span>, <span class="string">'html'</span>);</span><br></pre></td></tr></table></figure></p>
<h5 id="3-获取前端传来的参数"><a href="#3-获取前端传来的参数" class="headerlink" title="3. 获取前端传来的参数"></a>3. 获取前端传来的参数</h5><ol>
<li><code>req.query</code> 主要获取GET请求传来的参数。<br>获取到的是一个object，如果要获取具体值，可以<code>req.query.id</code>等</li>
<li><code>req.params</code>获取的值是url后面的一部分，处理 get 和 post 请求<br>比如<code>GET /topic?id=58ff17984edb452fd0fa2cee&amp;node_cat=node8 200 25.245 ms - 331</code>,需要自己拆解</li>
<li><code>req.body</code>主要获取POST请求参数<br>解析body不是nodejs默认提供的，你需要载入<code>body-parser</code>中间件才可以使用<code>req.body</code><br>查找优先级由高到低为 <code>req.params→req.body→req.query</code></li>
</ol>
<h5 id="4-分页的做法"><a href="#4-分页的做法" class="headerlink" title="4. 分页的做法"></a>4. 分页的做法</h5><ol>
<li><p>可以先获取你要获取的数据的总数，这里需要mongod单独去查一次，比如</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">exports.getCountByQuery(query, callback)&#123;</span><br><span class="line">  Topic.count(query,callback);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>分find结合一起使用</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> limit =<span class="built_in">Number</span>(req.query.limit) || <span class="number">10</span>;</span><br><span class="line"><span class="keyword">var</span> page = <span class="built_in">Number</span>(req.query.page) || <span class="number">1</span>;</span><br><span class="line"><span class="keyword">var</span> options = &#123;<span class="attr">skip</span>:(page - <span class="number">1</span>)* limit,<span class="attr">limit</span>:limit &#125;; </span><br><span class="line">exports.findByQuery(data,options,callback)&#123;</span><br><span class="line">  Topic.find(data,<span class="literal">null</span>,options,(err,doc) =&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(err)&#123;</span><br><span class="line">      <span class="keyword">return</span> callback(err);</span><br><span class="line">    &#125;</span><br><span class="line">    callback(<span class="literal">null</span>,doc);</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="5-新建一个工程"><a href="#5-新建一个工程" class="headerlink" title="5. 新建一个工程"></a>5. 新建一个工程</h5><p>首先需要在全局安装express <code>npm install express-generator -g</code></p>
<ol>
<li>在命令行中输入：<code>express -e 项目名</code>  初始化了一个使用 ejs 模板引擎的工程<code>cd 项目名 &amp;&amp; npm install</code></li>
<li>运行 ：<code>npm start</code> 再在浏览器输入对应的窗口即可</li>
<li>自动更新：<br>安装个supervisor <code>npm -g install supervisor</code>supervisor必须全局安装<br>启动时执行 <code>supervisor app.js</code>。express已经替换了启动方式，所以启动时执行 <code>supervisor ./bin/www</code></li>
</ol>
<h5 id="6-小tips：快速删除node-modules"><a href="#6-小tips：快速删除node-modules" class="headerlink" title="6. 小tips：快速删除node_modules"></a>6. 小tips：快速删除node_modules</h5><ol>
<li>安装个全局的rimraf <code>npm install rimraf -g</code>,</li>
<li>在需要删除node_modules的目录下，执行`rimraf node_modules</li>
</ol>
<h5 id="7-ejs模板的引用"><a href="#7-ejs模板的引用" class="headerlink" title="7. ejs模板的引用"></a>7. ejs模板的引用</h5><ol>
<li><p>在view目录下新建一个other.ejs,如果要往里面传数据，可以在router里面写<code>res.render(&#39;other&#39;, { title: &#39;hello world&#39; });</code><br><code>&lt;% code %&gt;</code>：JavaScript 代码。<br><code>&lt;%= code %&gt;</code>：显示替换过 HTML 特殊字符的内容。<br><code>&lt;%- code %&gt;</code>：显示原始 HTML 内容。<br>注意：<br><code>&lt;%= code %&gt;</code> 和 <code>&lt;%- code %&gt;</code> 的区别，当变量 code 为普通字符串时，两者没有区别。当 code 比如为 <code>&lt;h1&gt;hello&lt;/h1&gt;</code> 这种字符串时， <code>&lt;%= code %&gt;</code>会原样输出 <code>&lt;h1&gt;hello&lt;/h1&gt;</code> ，而 <code>&lt;%- code %&gt;</code>则会显示 H1里面的 hello 字符串。</p>
<h5 id="8-页面布局"><a href="#8-页面布局" class="headerlink" title="8. 页面布局"></a>8. 页面布局</h5><p>这里我们不使用layout进行页面布局，而是使用更为简单灵活的include。include 的简单使用如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">include</span> <span class="attr">a</span> %&gt;</span></span><br><span class="line">hello,world!</span><br><span class="line"><span class="tag">&lt;<span class="name">%-</span> <span class="attr">include</span> <span class="attr">b</span> %&gt;</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><code>exports</code>和<code>module.exports</code>的区别，<code>exports</code>仅仅是 <code>module.exports</code>的一个地址引用，如果<code>module.exports</code>已经具备一些属性和方法，那么<code>exports</code>收集来的信息将被忽略;</p>
<ol>
<li>最好别分别定义<code>module.exports</code>和<code>exports</code></li>
<li>NodeJs开发者建议导出对象用<code>module.exports</code>,导出多个方法和变量用<code>exports</code></li>
</ol>
<h5 id="9-如何字符串加密"><a href="#9-如何字符串加密" class="headerlink" title="9. 如何字符串加密?"></a>9. 如何字符串加密?</h5><p>当我们提交表单后，比如密码这些敏感信息，不做个加密处理那也太不把用户私密信息当回事了，Node.js提供了一个加密模块 <code>crypto</code><br>使用方法：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">'express'</span>);</span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"><span class="keyword">var</span> crypto = <span class="built_in">require</span>(<span class="string">'crypto'</span>);</span><br><span class="line">router.post(<span class="string">'/'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> userPwd = req.body.txtUserPwd;</span><br><span class="line">  <span class="comment">//生成口令的散列值</span></span><br><span class="line">  <span class="keyword">var</span> md5 = crypto.createHash(<span class="string">'md5'</span>);   <span class="comment">//crypto模块功能是加密并生成各种散列</span></span><br><span class="line">  <span class="keyword">var</span> en_upwd = md5.update(userPwd).digest(<span class="string">'hex'</span>);</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'加密后的密码:'</span>+en_upwd);</span><br><span class="line"></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure></p>
<h5 id="10-session的使用"><a href="#10-session的使用" class="headerlink" title="10. session的使用"></a>10. session的使用</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// session的使用</span></span><br><span class="line">app.use(cookieParser(<span class="string">'keyboard cat'</span>));</span><br><span class="line"><span class="comment">//使用靠就这个中间件</span></span><br><span class="line">app.use(session(&#123;</span><br><span class="line">    secret: <span class="string">"keyboard cat"</span>,</span><br><span class="line">    resave: <span class="literal">true</span>,</span><br><span class="line">    saveUninitialized: <span class="literal">true</span></span><br><span class="line">&#125;));</span><br></pre></td></tr></table></figure>
<p>注意：坑点：！！！！需要注意的是，必须将上面几句放在<code>app.use(app.router)</code>;之前</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用</span></span><br><span class="line">req.session.name = username;</span><br><span class="line">req.session.pwd = pwd;</span><br></pre></td></tr></table></figure>
<p>写完后，用下面两句存储一下<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sender.send(req.session);</span><br><span class="line">sender.end();</span><br></pre></td></tr></table></figure></p>
<h5 id="11-Express-模板传值对象app-locals、res-locals"><a href="#11-Express-模板传值对象app-locals、res-locals" class="headerlink" title="11. Express 模板传值对象app.locals、res.locals"></a>11. Express 模板传值对象app.locals、res.locals</h5><ul>
<li><code>locals</code>是Express应用中 Application(app)对象和Response(res)对象中的属性，该属性是一个对象。该对象的主要作用是，将值传递到所渲染的模板中。</li>
<li><code>locals对象</code><br>locals对象用于将数据传递至所渲染的模板中。</li>
</ul>
<p>对于如下一个ejs模板：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">name</span> %&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%= url %&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">name</span> %&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">%=</span> <span class="attr">introduce</span> %&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">router.get(<span class="string">'/'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">req, res</span>) </span>&#123;  </span><br><span class="line">  res.render(<span class="string">'index'</span>, &#123;<span class="attr">name</span>:<span class="string">'IT笔录'</span>, <span class="attr">url</span>:<span class="string">'http://itbilu.com'</span>, <span class="attr">introduce</span>:<span class="string">'学习、记录、整理'</span>&#125;);</span><br><span class="line">  <span class="comment">// 也可以使用 res.locals 变量</span></span><br><span class="line">  <span class="comment">// res.locals = &#123;</span></span><br><span class="line">  <span class="comment">//   name:'IT笔录',</span></span><br><span class="line">  <span class="comment">//   url:'http://itbilu.com',</span></span><br><span class="line">  <span class="comment">//   introduce:'学习、记录、整理'</span></span><br><span class="line">  <span class="comment">// &#125;;</span></span><br><span class="line">  <span class="comment">// res.render('index');</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li><code>app.locals</code>与<code>res.locals</code><br>locals可能存在于app对象中即：<code>app.locals</code>；也可能存在于res对象中，即：<code>res.locals</code>。两者都会将该对象传递至所渲染的页面中。不同的是，<code>app.locals</code>会在整个生命周期中起作用；而<code>res.locals</code>只会有当前请求中起作用。由于<code>app.locals</code>在当前应用所有的渲染模中访问，这样我们就可以在该对象中定义一些顶级/全局的数据，并在渲染模板中使用。<br><strong> 注意 </strong> ：使用的时候，位置应该是放在路由器的前面，这样才会生效。比如<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">app.use(local);    <span class="comment">// local是我封装了res.locals的函数，位置要在路由器的前面，不然是不行的</span></span><br><span class="line">app.use(<span class="string">'/'</span>,router);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="12-node文件读取模块fs"><a href="#12-node文件读取模块fs" class="headerlink" title="12. node文件读取模块fs"></a>12. node文件读取模块fs</h5><p> Node.js读取文件内容包括同步和异步两种方式</p>
<ol>
<li>同步读取，调用的是readFileSync<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs=<span class="built_in">require</span>(<span class="string">"fs"</span>);  </span><br><span class="line"><span class="keyword">var</span> data=fs.readFileSync(<span class="string">"test.js"</span>,<span class="string">"utf-8"</span>);  </span><br><span class="line"><span class="built_in">console</span>.log(data);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<ol>
<li>异步读取，调用readFile<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> fs=<span class="built_in">require</span>(<span class="string">"fs"</span>);  </span><br><span class="line">fs.readFile(<span class="string">"test.js"</span>,<span class="string">'utf-8'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err,data</span>)</span>&#123;  </span><br><span class="line">    <span class="keyword">if</span>(err)&#123;  </span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"error"</span>);  </span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;  </span><br><span class="line">        <span class="built_in">console</span>.log(data);  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>fs.readFile 接收了三个参数，第一个是文件名，第二个是编码方式，第三个为回调函数。<br>其他一下fs的api<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">fs.writeFile(<span class="string">'delete.txt'</span>,<span class="string">'1234567890'</span>，<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>(<span class="string">'youxi!'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除文件</span></span><br><span class="line">fs.unlink(<span class="string">'delete.txt'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">'success'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 修改文件名称</span></span><br><span class="line">fs.rename(<span class="string">'delete.txt'</span>,<span class="string">'anew.txt'</span>,<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line"> <span class="built_in">console</span>.log(<span class="string">'rename success'</span>);</span><br><span class="line"></span><br><span class="line"> <span class="comment">// 查看文件状态</span></span><br><span class="line">fs.stat(<span class="string">'anew.txt'</span>, <span class="function"><span class="keyword">function</span>(<span class="params">err, stat</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(stat);</span><br><span class="line"> &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 判断文件是否存在</span></span><br><span class="line">fs.exists(<span class="string">'a.txt'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"> exists </span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log( exists );</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h5 id="13-mongodb的使用"><a href="#13-mongodb的使用" class="headerlink" title="13. mongodb的使用"></a>13. mongodb的使用</h5><p> <strong> (1)、如何开启mongodb </strong></p>
<ol>
<li><p>首先，进入到安装mongodb的bin目录，如<code>D:\mongodb\bin</code>,然后执行命令<code>mongod --dbpath f:\MongoDB\data</code> 其中 <code>f:\MongoDB\data</code>是文件存放路径，看到如下信息说明成功了<br><img src="//images2015.cnblogs.com/blog/743331/201604/743331-20160415154227160-699397929.png" alt=""></p>
</li>
<li><p>mongodb的默认端口为27017，所以如果开启了mongodb,可以在浏览器输入<code>http://localhost:27017/</code>,如果现实类似的<code>It looks like you are trying to access MongoDB over HTTP on the native driver port.</code>,则说明mongodb启动成功</p>
</li>
<li><p>mongoose的api地位为<a href="http://www.nodeclass.com/api/mongoose.html#quick_start" target="_blank" rel="noopener">http://www.nodeclass.com/api/mongoose.html#quick_start</a></p>
</li>
</ol>
<p><strong> 如何查看有多少数据库 </strong></p>
<ul>
<li>进入mongodb的bin目录，例如<code>D:\mongodb\bin</code></li>
<li>执行<code>mongo</code>,然后再执行<code>show dbs</code>可以查看到有多少数据库。</li>
<li>如果要使用指定的数据库的话，可以执行<code>use 数据库名</code>。eg:<code>use myData</code><br><strong> 这里需要注意的是，mongodb是需要开启的状态。即：<code>mongod --dbpath f:\MongoDB\data</code>这条命令的窗口是要开着的。</strong></li>
</ul>
<p><strong> (2)、mongoose的使用 </strong><br>一般我们不直接用MongoDB的函数来操作MongoDB数据库,而使用mongose,mongoose就是一套操作MongoDB数据库的接口.</p>
<ol>
<li><p>连接上你的数据库</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> mongoose = <span class="built_in">require</span>(<span class="string">'mongoose'</span>);</span><br><span class="line"><span class="keyword">var</span> db       = mongoose.connect(<span class="string">'mongodb://127.0.0.1:27017/dataBase'</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>Schema<br>一种以文件形式存储的数据库模型骨架，无法直接通往数据库端，不具备对数据库的操作能力，仅仅只是数据库模型在程序片段中的一种表现，可以说是数据属性模型(传统意义的表结构)，又或着是’集合’的模型骨架。说白了就是定义数据的类型。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UserSchema = <span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">    username : &#123; <span class="attr">type</span> : <span class="built_in">String</span> &#125;,</span><br><span class="line">    password : &#123; <span class="attr">type</span> : <span class="built_in">String</span> &#125;,</span><br><span class="line">    avatar : &#123; <span class="attr">type</span> : <span class="built_in">String</span> &#125;,</span><br><span class="line">    age : &#123; <span class="attr">type</span> : <span class="built_in">Number</span> , <span class="attr">default</span> : <span class="number">0</span> &#125;,</span><br><span class="line">    description : &#123; <span class="attr">type</span> : <span class="built_in">String</span> &#125;,</span><br><span class="line">    email : &#123; <span class="attr">type</span> : <span class="built_in">String</span> &#125;,</span><br><span class="line">    github : &#123; <span class="attr">type</span> : <span class="built_in">String</span> &#125;,</span><br><span class="line">    time : &#123; <span class="attr">type</span> : <span class="built_in">Date</span> , <span class="attr">defaul</span> : <span class="built_in">Date</span>.now &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
</li>
<li><p>model<br>由Schema构造生成的模型，除了Schema定义的数据库骨架以外，还具有数据库操作的行为，类似于管理数据库属性、行为的类.<br>简单的说，就是 Schema定义了数据的类型，那么数据的操作要怎么办呢？ 定义一个类似的类，来操作 Schema声明的数据里面的类型</p>
</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> UserModel = db.model(<span class="string">"user"</span>, UserSchema );</span><br></pre></td></tr></table></figure>
<p><code>user</code> 数据库中的集合名称, 不存在会创建.</p>
<ol>
<li>Entity<br>由Model创建的实体，使用save方法保存数据，Model和Entity都有能影响数据库的操作，但Model比Entity更具操作性</li>
</ol>
<p><strong> (1)、具体的使用 </strong><br>参考<a href="http://blog.csdn.net/u014267351/article/details/51212107" target="_blank" rel="noopener">Mongoose使用操作</a></p>
<p><strong> <code>(2)、Schema - 表结构</code> </strong></p>
<ol>
<li><p>构造函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> mongoose.Schema(&#123;</span><br><span class="line">   name:&#123;<span class="attr">type</span>:<span class="built_in">String</span>&#125;, </span><br><span class="line">   age:&#123;<span class="attr">type</span>:<span class="built_in">Number</span>, </span><br><span class="line">   <span class="keyword">default</span>:<span class="number">10</span>&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>添加属性</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Schema.add(&#123; </span><br><span class="line">  name: <span class="string">'String'</span>,</span><br><span class="line">  email: <span class="string">'String'</span>, </span><br><span class="line">  age: <span class="string">'Number'</span> </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>有时候Schema不仅要为后面的Model和Entity提供公共的属性，还要提供公共的方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Schema.method(<span class="string">'say'</span>, </span><br><span class="line"><span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//这样Model和Entity的实例就能使用这个方法了</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>添加静态方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Schema.static( <span class="string">'say'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;<span class="built_in">console</span>.log(<span class="string">'hello'</span>);&#125; )</span><br><span class="line"><span class="comment">//静态方法，只限于在Model层就能使用</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>追加方法</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Schema.methods.say = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</span><br><span class="line">&#125;; <span class="comment">//静态方法，只限于在Model层就能使用</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<p><strong> <code>(3)、model - 文档操作</code> </strong></p>
<ol>
<li>构造函数, 参数1:集合名称, 参数2:Schema实例<br><code>db.model(&#39;test1&#39;, TestSchema );</code></li>
<li>查询, 参数1忽略,或为空对象则返回所有集合文档</li>
</ol>
<ul>
<li><code>model.find({}, callback);</code></li>
<li><code>model.find({},field,callback);</code> 过滤查询, 参数2: <code>{&#39;name&#39;:1, &#39;age&#39;:0}</code> 查询文档的返回结果包含name, 不包含age(_id默认是1) 1为包含，0为不包含</li>
<li><code>model.find({},null,{limit:20});</code> 过滤查询,参数3: 游标操作 limit限制返回结果数量为20个,如不足20个则返回所有.</li>
<li><code>model.findOne({}, callback);</code> 查询找到的第一个文档</li>
<li><code>model.findById(&#39;obj._id&#39;, callback);</code> 查询找到的第一个文档,同上. 但是只接受 __id 的值查询</li>
</ul>
<ol>
<li>创建, 在集合中创建一个文档<br><code>Model.create(文档数据, callback))</code></li>
<li>更新,参数 1:查询条件, 参数2:更新对象,可以使用MondoDB的更新修改器<br><code>Model.update(conditions, update, function(error)</code></li>
<li>删除, 参数1:查询条件<br><code>Model.remove(conditions,callback);</code></li>
</ol>
<p><strong> (4)、Entity -文档操作 </strong></p>
<ol>
<li>构造函数, 其实就是model的实例<br><code>new TestModel( { name:&#39;xueyou&#39;, age:21 } );</code></li>
<li>创建, 在集合中创建一个文档.<br><code>Entity.save(callback);</code></li>
</ol>
<p><strong> (5)、修改器和更新器 </strong></p>
<ol>
<li>更新修改器:<br>‘$inc’ 增减修改器,只对数字有效.下面的实例: 找到 age=22的文档,修改文档的age值自增1<br><code>Model.update({&#39;age&#39;:22}, {&#39;$inc&#39;:{&#39;age&#39;:1} })</code>; 执行后: age=23</li>
<li>‘$set’ 指定一个键的值,这个键不存在就创建它.可以是任何MondoDB支持的类型.<br><code>Model.update({&#39;age&#39;:22}, {&#39;$set&#39;:{&#39;age&#39;:&#39;haha&#39;} });</code> 执行后: age=’haha’</li>
<li>‘$unset’ 同上取反,删除一个键<br><code>Model.update({&#39;age&#39;:22}, {&#39;$unset&#39;:{&#39;age&#39;:&#39;haha&#39;} })</code>;  执行后: age键不存在</li>
</ol>
<p><strong> (6)、数组修改器: </strong></p>
<ol>
<li>‘$push’ 给一个键push一个数组成员,键不存在会创建<br><code>Model.update({&#39;age&#39;:22}, {&#39;$push&#39;:{&#39;array&#39;:10} })</code>; 执行后: 增加一个 array 键,类型为数组, 有一个成员 10</li>
<li>‘$addToSet’ 向数组中添加一个元素,如果存在就不添加<br><code>Model.update({&#39;age&#39;:22}, {&#39;$addToSet&#39;:{&#39;array&#39;:10} })</code>; 执行后: array中有10所以不会添加</li>
<li>‘$each’ 遍历数组, 和 $push 修改器配合可以插入多个值<br><code>Model.update({&#39;age&#39;:22}, {&#39;$push&#39;:{&#39;array&#39;:{&#39;$each&#39;: [1,2,3,4,5]}} })</code>; 执行后: array : [10,1,2,3,4,5]</li>
<li>‘$pop’ 向数组中尾部删除一个元素<br><code>Model.update({&#39;age&#39;:22}, {&#39;$pop&#39;:{&#39;array&#39;:1} })</code>; 执行后: array : [10,1,2,3,4] tips: 将1改成-1可以删除数组首部元素</li>
<li>‘$pull’ 向数组中删除指定元素<br><code>Model.update({&#39;age&#39;:22}, {&#39;$pull&#39;:{&#39;array&#39;:10} })</code>; 执行后: array : [1,2,3,4] 匹配到array中的10后将其删除</li>
</ol>
<p><strong>(7)、条件查询:</strong><br><code>&#39;$lt&#39;</code>小于<br><code>&#39;$lte&#39;</code> 小于等于<br><code>&#39;$gt&#39;</code>大于<br><code>&#39;$gte&#39;</code> 大于等于<br><code>&#39;$ne&#39;</code>不等于<br><code>Model.find({&#39;age&#39;:{ &#39;$gte&#39;:18 , &#39;$lte&#39;:30 } })</code>; 查询 age 大于等于18并小于等于30的文档</p>
<p><strong> (8)、或查询 OR: </strong><br><code>&#39;$in&#39;</code>一个键对应多个值<br><code>&#39;$nin&#39;</code> 同上取反, 一个键不对应指定值<br><code>&#39;$or&#39;</code>多个条件匹配, 可以嵌套 $in 使用<br><code>&#39;$not&#39;</code>     同上取反, 查询与特定模式不匹配的文档<br><code>Model.find({&#39;age&#39;:{ &#39;$in&#39;:[20,21,22.&#39;haha&#39;]} } )</code>; 查询 age等于20或21或21或’haha’的文档<br><code>Model.find({&quot;$or&quot; :  [ {&#39;age&#39;:18} , {&#39;name&#39;:&#39;xueyou&#39;} ] })</code>; 查询 age等于18 或 name等于’xueyou’ 的文档</p>
<p><strong> (9)、类型查询: </strong><br>null 能匹配自身和不存在的值, 想要匹配键的值 为null, 就要通过  ‘$exists’ 条件判定键值已经存在 “$exists” (表示是否存在的意思)<br><code>Model.find(&#39;age&#39; :  { &#39;$in&#39; : [null] , &#39;exists&#39; : true  } )</code>; 查询 age值为null的文档<br><code>Model.find({name:{$exists:true}},function(error,docs){//查询所有存在name属性的文档})</code>;<br><code>Model.find({telephone:{$exists:false}},function(error,docs){//查询所有不存在telephone属性的文档})</code>;</p>
<p><strong> (10)、正则表达式: </strong><br>MongoDb 使用 Prel兼容的正则表达式库来匹配正则表达式<br><code>find( {&#39;name&#39; : /joe/i } )</code>查询name为 joe 的文档, 并忽略大小写<br><code>find( {&#39;name&#39; : /joe?/i } )</code> 查询匹配各种大小写组合</p>
<p><strong> (11)、查询数组: </strong><br><code>Model.find({&#39;array&#39;:10} )</code>; 查询 array(数组类型)键中有10的文档, array : [1,2,3,4,5,10] 会匹配到<br><code>Model.find({&#39;array[5]&#39;:10} )</code>; 查询 array(数组类型)键中下标5对应的值是10, array : [1,2,3,4,5,10] 会匹配到<br>‘$all’ 匹配数组中多个元素<br><code>Model.find({&#39;array&#39;:[5,10]} )</code>; 查询 匹配array数组中 既有5又有10的文档<br>‘$size’ 匹配数组长度<br><code>Model.find({&#39;array&#39;:{&quot;$size&quot; : 3} } )</code>; 查询 匹配array数组长度为3 的文档<br>‘$slice’ 查询子集合返回<br><code>Model.find({&#39;array&#39;:{&quot;$skice&quot; : 10} } )</code>; 查询 匹配array数组的前10个元素<br><code>Model.find({&#39;array&#39;:{&quot;$skice&quot; : [5,10] } } )</code>; 查询 匹配array数组的第5个到第10个元素</p>
<p><strong> (12)、where </strong><br>用它可以执行任意javacript语句作为查询的一部分,如果回调函数返回 true 文档就作为结果的一部分返回<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">find(&#123;</span><br><span class="line">  &quot;$where&quot;:function() &#123;</span><br><span class="line">      for(var x in this)&#123;</span><br><span class="line">       //这个函数中的 this 就是文档</span><br><span class="line">        if(this.x !==null&amp;&amp;this.y !==null) &#123; </span><br><span class="line">          return this.x +this.y ===10?true:false;</span><br><span class="line">      &#125; else &#123;</span><br><span class="line">          return true;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>简化版本<br><code>find( {&quot;$where&quot; :  &quot;this.x + this.y === 10&quot; } )</code><br><code>find( {&quot;$where&quot; : &quot; function(){ return this.x + this.y ===10; } &quot; } )</code></p>
<p><strong> (13)、ObjectId </strong><br>存储在MongoDB集合中的每个文档（document）都有一个默认的主键_id，这个主键名称是固定的，它可以是mongodb支持的任何数据类型，默认是ObjectId。</p>
<p><strong> (14)、mongoose中的schema.index </strong><br>建索引是为了提高查询速度，要根据实际业务建立索引，太多了也不好，这样更新数据会变慢，因为要更新索引<br><code>TopicSchema.index({create_at: -1});</code><br>1是正序， -1是逆序，复合索引是为了提高查询速度。</p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://xianyulaodi.github.io/2017/09/24/nodejs学习小结/" data-id="cje8p101s000rjkp67xo5uc44" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACIUlEQVR42u3aO27EMAwFwNz/0k67QGDnkbSLpUfVYv2RxgVBUvr5icfxMf7+c/3/59XqLDcPDAyMr2UclyO553riv+9J1pCvDQMD4z2M6vRnr+sFzbO5krVhYGBgnP0+C455Ktn7fBgYGBhVxjxc5m/GwMDASIrYXvKX3JkH9xtqcQwMjC9k3FVkPvH7kf0NDAyMr2IcxTFZ1nW4PAYDAwNjN6Oaul0v4t5mXPlYBgYGxmpGtXScBNzrpSSfqZzDYmBgLGIkD+SHt3pp3yRkY2Bg7GZUX1QFVLcz89YbBgbGexi9gxfzjcbrufLwjYGBsZtxb1Ms3wyoFqv/FLEYGBirGb2NgWplnCR8Oez0PRgYGKsZyWO9gjYHVK+WM1wMDIwVjDzY5U2xPFmcfFAMDIzdjF66NjkQlh/RKNfiGBgYSxmFeDwIuEl618Of7sRiYGCsY8zbW73WW7POxsDAeDGjGuCqV5/YZsDAwHgPo5e6Vdv61TK4HNAxMDBewOg9nG9tPh7KMTAwXszoHYDIW3h59lroGmJgYCxlVAvIZBGTwxb5IQwMDIzdjKM4kq9y1zZn/gYMDIzdjGqYqzbUksUlT/W2OTEwMDYxkiCbTzxpw+XgcoKIgYGxgjEPfL0S97aWHAYGBsYg4FavVgM0BgYGxqRZ1jvM0Us0MTAw3sDINyAn5Wt1c/SRdhsGBsYXMqpHHCYhtbeIpJzGwMBYyvgF3O2yUIOaO0YAAAAASUVORK5CYII=" class="article-share-link">分享</a><div class="tags"><a href="/tags/node/">node</a></div><div class="post-nav"><a href="/2017/11/29/给女朋友写的一个简书爬虫/" class="pre">给女朋友写的一个简书爬虫</a><a href="/2017/08/12/express图片上传/" class="next">express图片上传</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'xianyulaodi',
  repo: 'myBlogCommentRepo',
  oauth: {
    client_id: 'bb8f1145bdd0717d9830',
    client_secret: 'b18dc8d3b04cea043cb47d083049276cd93e0503',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://xianyulaodi.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/node/">node</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/vue/">vue</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/高阶函数/" style="font-size: 15px;">高阶函数</a> <a href="/tags/BigPipe/" style="font-size: 15px;">BigPipe</a> <a href="/tags/博客园迁移/" style="font-size: 15px;">博客园迁移</a> <a href="/tags/cookie/" style="font-size: 15px;">cookie</a> <a href="/tags/expess/" style="font-size: 15px;">expess</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/tags/node/" style="font-size: 15px;">node</a> <a href="/tags/path/" style="font-size: 15px;">path</a> <a href="/tags/mongoose/" style="font-size: 15px;">mongoose</a> <a href="/tags/fs/" style="font-size: 15px;">fs</a> <a href="/tags/setTimeout/" style="font-size: 15px;">setTimeout</a> <a href="/tags/Eventloop/" style="font-size: 15px;">Eventloop</a> <a href="/tags/npm/" style="font-size: 15px;">npm</a> <a href="/tags/vue/" style="font-size: 15px;">vue</a> <a href="/tags/vuex/" style="font-size: 15px;">vuex</a> <a href="/tags/vue-router/" style="font-size: 15px;">vue-router</a> <a href="/tags/router/" style="font-size: 15px;">router</a> <a href="/tags/css/" style="font-size: 15px;">css</a> <a href="/tags/正则/" style="font-size: 15px;">正则</a> <a href="/tags/爬虫/" style="font-size: 15px;">爬虫</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/02/25/如何写一个npm包/">如何写一个npm包</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/02/10/BigPipe小探/">BigPipe小探</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/01/22/将中文转为拼音首字母/">js提取中文拼音首字母</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/29/给女朋友写的一个简书爬虫/">给女朋友写的一个简书爬虫</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/24/nodejs学习小结/">nodejs学习小结</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/12/express图片上传/">express图片上传</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/19/浅析css中的cursor/">浅析css中的cursor</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/03/javascript高阶函数/">javascript高阶函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/18/手写一个router/">手写一个router</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/30/正则表达式学习/">正则表达式学习</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-money"> 请博主喝咖啡</i><img src="/img/WeChatQR.png"/></div></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.cnblogs.com/xianyulaodi/" title="我的博客园" target="_blank">我的博客园</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">咸鱼老弟.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>